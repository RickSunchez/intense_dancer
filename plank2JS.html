<html>
	<body>
		<style type="text/css">
			* {
				padding: 0;
				margin: 0;
			}
		</style>
	  <script src="https://cdn.jsdelivr.net/npm/planck-js@latest/dist/planck-with-testbed.js"></script>
	  <script>
	    planck.testbed(function(testbed) {
	      	var world = planck.World();

			var ground = world.createBody();
			var ground = world.createBody({
			  	type: 'static',
			  	position: planck.Vec2(2, 0),
			});
			ground.createFixture({
			  	shape: planck.Edge(planck.Vec2(-45.0, 0.0), planck.Vec2(40.0, 0.0))
			});

			var head = world.createDynamicBody(planck.Vec2(0, 28));
  			head.createFixture(planck.Box(2, 3), 0.5);

			var torso = world.createDynamicBody(planck.Vec2(0, 20));
		    torso.createFixture(planck.Box(3, 5), (3 * 5) / 20);
		    world.createJoint(planck.RevoluteJoint({
		      lowerAngle: -0.3,
		      upperAngle: 0.3,
		      enableLimit: true,
		    }, head, torso, planck.Vec2(0, 20 + 2)));

		    var lArm = world.createDynamicBody(planck.Vec2(-4, 22));
		    lArm.createFixture(planck.Box(1.2, 3), (1.2 * 3) / 20);
		    world.createJoint(planck.RevoluteJoint({
		      lowerAngle: -3.5,
		      upperAngle: 1.5,
		      enableLimit: true,
		    }, torso, lArm, planck.Vec2(-4, 22 + 2)));

		    var rArm = world.createDynamicBody(planck.Vec2(4, 22));
		    rArm.createFixture(planck.Box(1.2, 3), (1.2 * 3) / 20);
		    world.createJoint(planck.RevoluteJoint({
		      lowerAngle: -1.5,
		      upperAngle: 3.5,
		      enableLimit: true,
		    }, torso, rArm, planck.Vec2(4, 22 + 2)));

		    var lArm2 = world.createDynamicBody(planck.Vec2(-4, 16));
		    lArm2.createFixture(planck.Box(1, 3), (1.3 * 3) / 20);
		    world.createJoint(planck.RevoluteJoint({
		      lowerAngle: -1.5,
		      upperAngle: 1.5,
		      enableLimit: true,
		    }, lArm, lArm2, planck.Vec2(-4, 16 + 2)));

		    var rArm2 = world.createDynamicBody(planck.Vec2(4, 16));
		    rArm2.createFixture(planck.Box(1, 3), (1.3 * 3) / 20);
		    world.createJoint(planck.RevoluteJoint({
		      lowerAngle: -1.5,
		      upperAngle: 1.5,
		      enableLimit: true,
		    }, rArm, rArm2, planck.Vec2(4, 16 + 2)));

		    var lThigh = world.createDynamicBody(planck.Vec2(-2, 12));
		    lThigh.createFixture(planck.Box(1.3, 3), (1.3 * 3) / 20);
		    world.createJoint(planck.RevoluteJoint({
		      lowerAngle: -1.5,
		      upperAngle: 1.5,
		      enableLimit: true,
		    }, torso, lThigh, planck.Vec2(-2, 12 + 2)));

		    var rThigh = world.createDynamicBody(planck.Vec2(2, 12));
		    rThigh.createFixture(planck.Box(1.3, 3), (1.3 * 3) / 20);
		    world.createJoint(planck.RevoluteJoint({
		      lowerAngle: -1.5,
		      upperAngle: 1.5,
		      enableLimit: true,
		    }, torso, rThigh, planck.Vec2(2, 12 + 2)));

		    var lCalf = world.createDynamicBody(planck.Vec2(-2, 6));
		    lCalf.createFixture(planck.Box(1.3, 3), (1.3 * 3) / 20);
		    world.createJoint(planck.RevoluteJoint({
		      lowerAngle: -0.5,
		      upperAngle: 1.5,
		      enableLimit: true,
		    }, lThigh, lCalf, planck.Vec2(-2, 6 + 2)));

		    var rCalf = world.createDynamicBody(planck.Vec2(2, 6));
		    rCalf.createFixture(planck.Box(1.3, 3), (1.3 * 3) / 20);
		    world.createJoint(planck.RevoluteJoint({
		      lowerAngle: -1.5,
		      upperAngle: 0.5,
		      enableLimit: true,
		    }, rThigh, rCalf, planck.Vec2(2, 6 + 2)));

		 //    let torso   = createJoint(head, 3, 5, 0, 20, -0.3, 0.3);
			// let lArm    = createJoint(torso,  1.2, 3, -4,  22, -3.5, 1.5);
			// let rArm    = createJoint(torso,  1.2, 3,  4,  22, -1.5, 3.5);
			// let lArm2   = createJoint(lArm,     1, 3, -4,  16, -1.5, 1.5);
			// let rArm2   = createJoint(rArm,     1, 3,  4,  16, -1.5, 1.5);
			// let lThigh  = createJoint(torso,   1.3, 3, -2,  12, -1.5, 1.5);
			// let rThigh  = createJoint(torso,   1.3, 3,  2,  12, -1.5, 1.5);
			// let lCalf   = createJoint(lThigh, 1.3, 3, -2,   6, -0.5, 1.5);
			// let rCalf   = createJoint(rThigh, 1.3, 3,  2,   6, -1.5, 0.5);
			  
			// function createJoint(parent, w, h, x, y, lowerAngle, upperAngle) {
			//     // var object = world.createDynamicBody(planck.Vec2(x, y));
			//     // object.createFixture(planck.Box(w, h), (w * h) / 20);
			//     // world.createJoint(planck.RevoluteJoint({
			//     //   lowerAngle: lowerAngle,
			//     //   upperAngle: upperAngle,
			//     //   enableLimit: true,
			//     // }, parent, object, planck.Vec2(x, y + 2)));
			//     // return object;
			// }
	      
	      return world;
	    });
	  </script>
	</body>
</html>